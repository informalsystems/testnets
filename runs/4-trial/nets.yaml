# A simple 4-validator test network, geographically dispersed.
id: 4-trial

monitoring:
  signalfx:
    enabled: no

  influxdb:
    enabled: yes
    deploy: yes
    password: ${INFLUXDB_PASSWORD}
    region: us-east-1

templates:
  base_tendermint_node: &base_tendermint_node
    binary: v0.32.1
    config_template: ./validator-config.toml

  base_load_test: &base_load_test
    method: "tm-bench"
    client_nodes: 1
    targets:
      # We're only targeting a single node in us-east-1 (same region as the
      # tm-bench instance)
      - validators[0]
    time: 300
    broadcast_tx_method: async
    connections: 1
    size: 100


node_groups:
  - validators:
      <<: *base_tendermint_node
      validators: yes
      in_genesis: yes
      persistent_peers:
        - validators
      regions:
        - us_east_1: 1
        - eu_central_1: 1
        - ap_northeast_2: 1
        - ap_southeast_2: 1

load_tests:
  - 100_txs_per_sec:
      <<: *base_load_test
      rate: 100

  - 200_txs_per_sec:
      <<: *base_load_test
      rate: 200

  - 400_txs_per_sec:
      <<: *base_load_test
      rate: 400

  - 800_txs_per_sec:
      <<: *base_load_test
      rate: 800

  - 1600_txs_per_sec:
      <<: *base_load_test
      rate: 1600

  - 2000_txs_per_sec:
      <<: *base_load_test
      rate: 2000

  - 2500_txs_per_sec:
      <<: *base_load_test
      rate: 2500

  - 2500_txs_per_sec_long:
      <<: *base_load_test
      rate: 2500
      time: 3600

  - 3200_txs_per_sec:
      <<: *base_load_test
      rate: 3200

  - 3200_txs_per_sec_long:
      <<: *base_load_test
      rate: 3200
      time: 3600

  - 6400_txs_per_sec:
      <<: *base_load_test
      rate: 6400

  - 12800_txs_per_sec:
      <<: *base_load_test
      rate: 12800

  - 25600_txs_per_sec:
      <<: *base_load_test
      rate: 25600